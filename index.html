<html>
<head>
<body>

</body>
<script type="text/javascript">
//IIFE
(function() {
    var rand = Math.floor((Math.random() * 12)+8);

    createNumElements("div", rand);

    function createNumElements(elementName, numElements) {
        for (var i = 0; i < numElements; i++ ) {
            addElement(elementName);
            console.log(i);
        }
    }

    function addElement(elementName) {
        var box = document.createElement(elementName);
        box.setAttribute("class", "box");
        document.body.appendChild(box);
    }

/***Grab boxes and add stuff***/
    function doStuff() {
        var boxes = document.getElementsByClassName("box");

        for (var i = 0; i < boxes.length; i++) {
            boxes[i].innerHTML = "Test";
            bgColor = randColor();
            boxes[i].style.background = bgColor;
            boxes[i].style.color = invertColor1(bgColor);
        }
    }

    function randColor() {
        return '#'+Math.random().toString(16).substr(-6);
    }

    function invertColor1(hexTripletColor) {
        var color = hexTripletColor;
        color = color.substring(1);           // remove #
        color = parseInt(color, 16);          // convert to integer
        color = 0xFFFFFF ^ color;             // invert three bytes
        color = color.toString(16);           // convert to hex
        color = ("000000" + color).slice(-6); // pad with leading zeros
        color = "#" + color;                  // prepend #
        return color;
    }

    function invertColor2(hexnum) {
        hexnum = hexnum.toUpperCase();
        hexnum = hexnum.substring(1);
        var splitnum = hexnum.split("");
        var resultnum = "";
        var simplenum = "FEDCBA9876".split("");
        var complexnum = new Array();
        complexnum.A = "5";
        complexnum.B = "4";
        complexnum.C = "3";
        complexnum.D = "2";
        complexnum.E = "1";
        complexnum.F = "0";
	
        for(i=0; i<6; i++){
            if(!isNaN(splitnum[i])) {
                resultnum += simplenum[splitnum[i]]; 
            } else if(complexnum[splitnum[i]]){
                resultnum += complexnum[splitnum[i]]; 
            } else {
                return false;
            }
        }
	
        return resultnum;
    }

    doStuff();

})();
</script>